(self["webpackChunkjdrave_app"]=self["webpackChunkjdrave_app"]||[]).push([[845],{8810:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return b}});var a=i(6252),t=i(2262),l=i(7102),d=i(7511),r=i.n(d),u=i(5813),s=i.n(u);const o=(0,a._)("h1",{class:"page-title mb-8"},[(0,a.Uk)("Ã‰diter le "),(0,a._)("span",null,"profil")],-1),m={class:"max-w-lg mx-auto"},c={key:0},v={key:1,class:"mb-6"},k=(0,a.Uk)(" Enregistrer "),f=(0,a._)("div",null," stats? ",-1);var p=(0,a.aZ)({setup(e){const{result:n,loading:i,refetch:d}=(0,l.aM)(r());let u=(0,t.iH)(null);(0,a.m0)((()=>{n.value&&(u.value={...n.value?.current_user[0]})}));const{mutate:p,loading:S,onDone:b}=(0,l.Db)(s(),(()=>({variables:{id:u.value?.id,username:u.value?.username}})));return b((()=>{d()})),(e,n)=>{const l=(0,a.up)("BaseInput"),d=(0,a.up)("BaseButton");return(0,a.wg)(),(0,a.iD)(a.HY,null,[o,(0,a._)("div",m,[(0,t.SU)(i)?((0,a.wg)(),(0,a.iD)("div",c,"Chargement")):(0,a.kq)("",!0),!(0,t.SU)(i)&&(0,t.SU)(u)?((0,a.wg)(),(0,a.iD)("div",v,[(0,a.Wm)(l,{modelValue:(0,t.SU)(u).username,"onUpdate:modelValue":n[0]||(n[0]=e=>(0,t.SU)(u).username=e),label:"Pseudo"},null,8,["modelValue"]),(0,a.Wm)(l,{modelValue:(0,t.SU)(u).email,"onUpdate:modelValue":n[1]||(n[1]=e=>(0,t.SU)(u).email=e),label:"Adresse mail",readonly:""},null,8,["modelValue"]),(0,a.Wm)(d,{class:"primary","is-loading":(0,t.SU)(S),onClick:(0,t.SU)(p)},{default:(0,a.w5)((()=>[k])),_:1},8,["is-loading","onClick"])])):(0,a.kq)("",!0),f])],64)}}});const S=p;var b=S},5813:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"username"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"update_users_by_pk"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pk_columns"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}]}},{kind:"Argument",name:{kind:"Name",value:"_set"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"username"},value:{kind:"Variable",name:{kind:"Name",value:"username"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:170}};n.loc.source={body:"mutation UpdateUser($id: String!, $username: String!) {\n  update_users_by_pk(pk_columns: { id: $id }, _set: { username: $username }) {\n    id\n    username\n    email\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var a=e.type;"NamedType"===a.kind&&n.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}var a={};function t(e,n){for(var i=0;i<e.definitions.length;i++){var a=e.definitions[i];if(a.name&&a.name.value==n)return a}}function l(e,n){var i={kind:e.kind,definitions:[t(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var l=a[n]||new Set,d=new Set,r=new Set;l.forEach((function(e){r.add(e)}));while(r.size>0){var u=r;r=new Set,u.forEach((function(e){if(!d.has(e)){d.add(e);var n=a[e]||new Set;n.forEach((function(e){r.add(e)}))}}))}return d.forEach((function(n){var a=t(e,n);a&&i.definitions.push(a)})),i}(function(){n.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),a[e.name.value]=n}}))})(),e.exports=n,e.exports.UpdateUser=l(n,"UpdateUser")}}]);
//# sourceMappingURL=profile.cd2d62ff.js.map