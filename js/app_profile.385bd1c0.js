(self["webpackChunkjdrave_app"]=self["webpackChunkjdrave_app"]||[]).push([[293],{5813:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"username"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"update_users_by_pk"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pk_columns"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}]}},{kind:"Argument",name:{kind:"Name",value:"_set"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"username"},value:{kind:"Variable",name:{kind:"Name",value:"username"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:170}};n.loc.source={body:"mutation UpdateUser($id: String!, $username: String!) {\n  update_users_by_pk(pk_columns: { id: $id }, _set: { username: $username }) {\n    id\n    username\n    email\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function a(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){a(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){a(e,n)})),e.definitions&&e.definitions.forEach((function(e){a(e,n)}))}var i={};function l(e,n){for(var a=0;a<e.definitions.length;a++){var i=e.definitions[a];if(i.name&&i.name.value==n)return i}}function t(e,n){var a={kind:e.kind,definitions:[l(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var t=i[n]||new Set,d=new Set,u=new Set;t.forEach((function(e){u.add(e)}));while(u.size>0){var r=u;u=new Set,r.forEach((function(e){if(!d.has(e)){d.add(e);var n=i[e]||new Set;n.forEach((function(e){u.add(e)}))}}))}return d.forEach((function(n){var i=l(e,n);i&&a.definitions.push(i)})),a}(function(){n.definitions.forEach((function(e){if(e.name){var n=new Set;a(e,n),i[e.name.value]=n}}))})(),e.exports=n,e.exports.UpdateUser=t(n,"UpdateUser")},393:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return b}});var i=a(6252),l=a(2262),t=a(7102),d=a(7511),u=a.n(d),r=a(5813),s=a.n(r);const o=(0,i._)("h1",{class:"page-title mb-8"},[(0,i.Uk)("Ã‰diter le "),(0,i._)("span",null,"profil")],-1),m={class:"max-w-lg mx-auto"},c={key:0},v={key:1,class:"mb-6"},k=(0,i._)("div",null,"stats?",-1);var f=(0,i.aZ)({__name:"ProfileView",setup(e){const{result:n,loading:a,refetch:d}=(0,t.aM)(u()),r=(0,l.iH)(null);(0,i.m0)((()=>{n.value&&(r.value={...n.value?.current_user[0]})}));const{mutate:f,loading:p,onDone:b}=(0,t.Db)(s(),(()=>({variables:{id:r.value?.id,username:r.value?.username}})));return b((()=>{d()})),(e,n)=>{const t=(0,i.up)("BaseInput"),d=(0,i.up)("BaseButton");return(0,i.wg)(),(0,i.iD)(i.HY,null,[o,(0,i._)("div",m,[(0,l.SU)(a)?((0,i.wg)(),(0,i.iD)("div",c,"Chargement")):(0,i.kq)("",!0),!(0,l.SU)(a)&&r.value?((0,i.wg)(),(0,i.iD)("div",v,[(0,i.Wm)(t,{class:"mb-6",modelValue:r.value.username,"onUpdate:modelValue":n[0]||(n[0]=e=>r.value.username=e),label:"Pseudo"},null,8,["modelValue"]),(0,i.Wm)(t,{class:"mb-6",modelValue:r.value.email,"onUpdate:modelValue":n[1]||(n[1]=e=>r.value.email=e),label:"Adresse mail",readonly:""},null,8,["modelValue"]),(0,i.Wm)(d,{class:"primary circled","is-loading":(0,l.SU)(p),onClick:(0,l.SU)(f)},{default:(0,i.w5)((()=>[(0,i.Uk)(" Enregistrer ")])),_:1},8,["is-loading","onClick"])])):(0,i.kq)("",!0),k])],64)}}});const p=f;var b=p}}]);
//# sourceMappingURL=app_profile.385bd1c0.js.map