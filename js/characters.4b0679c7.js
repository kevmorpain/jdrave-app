(self["webpackChunkjdrave_app"]=self["webpackChunkjdrave_app"]||[]).push([[489],{3631:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Character"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"characters"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"features"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"maxHp"},name:{kind:"Name",value:"max_hp"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"currentHp"},name:{kind:"Name",value:"current_hp"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"picture_url"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"isNpc"},name:{kind:"Name",value:"is_npc"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"inventory"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"playerId"},name:{kind:"Name",value:"player_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bonus"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"effect"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_equipped"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"kind"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:286}};n.loc.source={body:"fragment Character on characters {\n  id\n  name\n  description\n  features\n  maxHp: max_hp\n  currentHp: current_hp\n  picture_url\n  isNpc: is_npc\n  inventory\n  playerId: player_id\n  status\n  items {\n    id\n    name\n    bonus\n    effect\n    is_equipped\n    quantity\n    status\n    kind\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var a=e.type;"NamedType"===a.kind&&n.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}var a={};function t(e,n){for(var i=0;i<e.definitions.length;i++){var a=e.definitions[i];if(a.name&&a.name.value==n)return a}}function r(e,n){var i={kind:e.kind,definitions:[t(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=a[n]||new Set,d=new Set,s=new Set;r.forEach((function(e){s.add(e)}));while(s.size>0){var c=s;s=new Set,c.forEach((function(e){if(!d.has(e)){d.add(e);var n=a[e]||new Set;n.forEach((function(e){s.add(e)}))}}))}return d.forEach((function(n){var a=t(e,n);a&&i.definitions.push(a)})),i}(function(){n.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),a[e.name.value]=n}}))})(),e.exports=n,e.exports.Character=r(n,"Character")},5245:function(e,n,i){var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CharacterQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"characterId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"uuid"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"character"},name:{kind:"Name",value:"characters_by_pk"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"characterId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Character"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"objects"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"kind"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_be_equipped"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:261}};a.loc.source={body:"#import '@/services/characters/Character.fragment.gql'\n\nquery CharacterQuery($characterId: uuid!) {\n  character: characters_by_pk(id: $characterId) {\n    ...Character\n  }\n  objects {\n    id\n    name\n    description\n    kind\n    status\n    can_be_equipped\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!t[n]&&(t[n]=!0,!0)}))}function d(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){d(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){d(e,n)})),e.definitions&&e.definitions.forEach((function(e){d(e,n)}))}a.definitions=a.definitions.concat(r(i(3631).definitions));var s={};function c(e,n){for(var i=0;i<e.definitions.length;i++){var a=e.definitions[i];if(a.name&&a.name.value==n)return a}}function l(e,n){var i={kind:e.kind,definitions:[c(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var a=s[n]||new Set,t=new Set,r=new Set;a.forEach((function(e){r.add(e)}));while(r.size>0){var d=r;r=new Set,d.forEach((function(e){if(!t.has(e)){t.add(e);var n=s[e]||new Set;n.forEach((function(e){r.add(e)}))}}))}return t.forEach((function(n){var a=c(e,n);a&&i.definitions.push(a)})),i}(function(){a.definitions.forEach((function(e){if(e.name){var n=new Set;d(e,n),s[e.name.value]=n}}))})(),e.exports=a,e.exports.CharacterQuery=l(a,"CharacterQuery")},4986:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetCharactersQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"characters"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"picture_url"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:109}};n.loc.source={body:"query GetCharactersQuery ($limit: Int) {\n  characters(limit: $limit) {\n    id\n    name\n    picture_url\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var a=e.type;"NamedType"===a.kind&&n.add(a.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}var a={};function t(e,n){for(var i=0;i<e.definitions.length;i++){var a=e.definitions[i];if(a.name&&a.name.value==n)return a}}function r(e,n){var i={kind:e.kind,definitions:[t(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=a[n]||new Set,d=new Set,s=new Set;r.forEach((function(e){s.add(e)}));while(s.size>0){var c=s;s=new Set,c.forEach((function(e){if(!d.has(e)){d.add(e);var n=a[e]||new Set;n.forEach((function(e){s.add(e)}))}}))}return d.forEach((function(n){var a=t(e,n);a&&i.definitions.push(a)})),i}(function(){n.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),a[e.name.value]=n}}))})(),e.exports=n,e.exports.GetCharactersQuery=r(n,"GetCharactersQuery")},5790:function(e,n,i){"use strict";i.d(n,{q:function(){return t}});var a=i(6252);const t=e=>(0,a.Fl)((()=>{const n=e.value.trim().split(/\s+/),i=n.pop();return`${n.join(" ")} <span>${i}</span>`}))},5500:function(e,n,i){"use strict";i.d(n,{Z:function(){return m}});var a=i(6252);const t={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},r=(0,a._)("path",{stroke:"#231C07","stroke-width":"2",d:"M18 17c0 4.5 0 4-6 4s-6 .5-6-4a6 6 0 0 1 12 0Z"},null,-1),d=(0,a._)("circle",{cx:"12",cy:"7",r:"4",stroke:"#231C07","stroke-width":"2"},null,-1),s=[r,d];function c(e,n,i,r,d,c){return(0,a.wg)(),(0,a.iD)("svg",t,s)}var l={name:"IcCharacter"},u=i(3744);const o=(0,u.Z)(l,[["render",c]]);var m=o},4398:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return Q}});var a=i(6252),t=i(2262),r=i(3577),d=i(2450),s=i(9316),c=i(5790),l=i(5245),u=i.n(l);const o={key:0},m={key:1,class:"md:border rounded-xl md:p-6 grid md:grid-cols-3 gap-y-6 md:gap-6 relative"},v={key:0,class:"absolute z-1 top-3 right-0"},f=(0,a._)("span",{class:"text-sm bg-secondary text-white px-5 py-0.5 rounded-l"}," PNJ ",-1),k=[f],p={class:"absolute right-2 top-2 z-1"},h={class:"text-center"},g=["src"],w={class:"md:col-span-2 grid grid-cols-2 gap-6 place-content-start"},y={class:"mb-8 col-span-2"},_=["innerHTML"],N={class:"col-span-2"},b={class:"whitespace-pre-wrap"},S={key:0,class:"col-span-full"},F=(0,a._)("h2",{class:"font-semibold"},"PV",-1),D={key:1},C=(0,a._)("h2",{class:"font-semibold"},"Stats",-1),x=(0,a._)("h2",{class:"font-semibold"},"Équipement",-1),E={key:0,class:"mb-6"},q={key:1,class:"whitespace-pre-wrap"},z=(0,a._)("h2",{class:"font-semibold"},"Inventaire",-1),I={class:"whitespace-pre-wrap"};var H=(0,a.aZ)({__name:"CharacterPage",props:{characterId:{}},setup(e){const n=e,{result:i,loading:l}=(0,s.aM)(u(),(()=>({characterId:n.characterId}))),f=(0,a.Fl)((()=>i.value?.character??null)),H=(0,a.Fl)((()=>f.value?.name??"")),L=(0,c.q)(H),Q=(0,a.Fl)((()=>!!f.value?.features&&!Object.keys(f.value?.features).length));return(e,n)=>{const i=(0,a.up)("BaseButton"),s=(0,a.up)("RouterLink");return(0,t.SU)(l)?((0,a.wg)(),(0,a.iD)("p",o,"Character is loading")):f.value?((0,a.wg)(),(0,a.iD)("div",m,[f.value.is_npc?((0,a.wg)(),(0,a.iD)("div",v,k)):(0,a.kq)("",!0),(0,a._)("div",p,[(0,a.Wm)(s,{custom:"",to:{name:"edit_character",params:{characterId:f.value.id}}},{default:(0,a.w5)((({navigate:e})=>[(0,a.Wm)(i,{class:"secondary circled",onClick:e},{default:(0,a.w5)((()=>[(0,a.Uk)(" Éditer "),(0,a.Wm)((0,t.SU)(d.Z),{class:"w-4 h-4 ml-1"})])),_:2},1032,["onClick"])])),_:1},8,["to"])]),(0,a._)("div",h,[(0,a._)("img",{class:"rounded w-96 h-96 object-cover",src:f.value.picture_url},null,8,g)]),(0,a._)("div",w,[(0,a._)("header",y,[(0,a._)("h1",{class:"page-title",innerHTML:(0,t.SU)(L)},null,8,_)]),(0,a._)("div",N,[(0,a._)("p",b,(0,r.zw)(f.value.description),1)]),f.value.is_npc?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",S,[F,(0,a._)("p",null,(0,r.zw)(f.value.currentHp)+"/"+(0,r.zw)(f.value.maxHp),1)])),Q.value?((0,a.wg)(),(0,a.iD)("div",D,[C,(0,a._)("p",null,(0,r.zw)(f.value.features),1)])):(0,a.kq)("",!0),(0,a._)("div",null,[x,f.value.items?.length?((0,a.wg)(),(0,a.iD)("ul",E,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(f.value.items,(n=>((0,a.wg)(),(0,a.iD)("li",{key:n.id},[(0,a.Uk)((0,r.zw)(n.name)+" ("+(0,r.zw)(e.$t(`item_kind.${n.kind}`))+" "+(0,r.zw)(n.bonus>=0?"+":"-")+(0,r.zw)(n.bonus)+") ",1),n.status?((0,a.wg)(),(0,a.iD)(a.HY,{key:0},[(0,a.Uk)("-> "+(0,r.zw)(n.status),1)],64)):(0,a.kq)("",!0)])))),128))])):((0,a.wg)(),(0,a.iD)("p",q,(0,r.zw)(f.value.equipment),1))]),(0,a._)("div",null,[z,(0,a._)("p",I,(0,r.zw)(f.value.inventory),1)])])])):(0,a.kq)("",!0)}}});const L=H;var Q=L},3589:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return w}});var a=i(6252),t=i(2262),r=i(3577),d=i(4986),s=i.n(d),c=i(9316),l=i(5500);const u=(0,a._)("h1",{class:"page-title mb-8"},[(0,a._)("span",null,"Personnages")],-1),o={key:0},m={key:1,class:"grid gap-14 md:grid-cols-4"},v=["onClick"],f={class:"absolute bg-secondary top-0 right-0 p-[2px] rounded-bl"},k={class:"bg-white-opacity py-1 px-4 mt-auto w-full"},p={class:"font-bold text-lg"};var h=(0,a.aZ)({__name:"CharactersList",setup(e){const{result:n,loading:i}=(0,c.aM)(s()),d=(0,a.Fl)((()=>n.value?.characters??[]));return(e,n)=>{const s=(0,a.up)("RouterLink");return(0,a.wg)(),(0,a.iD)(a.HY,null,[u,(0,t.SU)(i)?((0,a.wg)(),(0,a.iD)("p",o,"Les personnages sont en train de charger...")):((0,a.wg)(),(0,a.iD)("ul",m,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(d.value,(e=>((0,a.wg)(),(0,a.j4)(s,{to:{name:"character",params:{characterId:e.id}},key:e.id,custom:""},{default:(0,a.w5)((({navigate:n})=>[(0,a._)("li",{onClick:n},[(0,a._)("article",{class:"bg-white rounded shadow-md hover:bg-slate-50 hover:cursor-pointer transition-colors duration-200 ease-in-out relative overflow-hidden min-h-[180px] flex bg-center bg-cover",style:(0,r.j5)({backgroundImage:`url(${e.picture_url})`})},[(0,a._)("div",f,[(0,a.Wm)(l.Z)]),(0,a._)("div",k,[(0,a._)("h1",p,(0,r.zw)(e.name),1)])],4)],8,v)])),_:2},1032,["to"])))),128))]))],64)}}});const g=h;var w=g},2450:function(e,n,i){"use strict";i.d(n,{Z:function(){return t}});var a=i(6252);function t(e,n){return(0,a.wg)(),(0,a.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[(0,a._)("path",{d:"M2.695 14.763l-1.262 3.154a.5.5 0 00.65.65l3.155-1.262a4 4 0 001.343-.885L17.5 5.5a2.121 2.121 0 00-3-3L3.58 13.42a4 4 0 00-.885 1.343z"})])}}}]);
//# sourceMappingURL=characters.4b0679c7.js.map