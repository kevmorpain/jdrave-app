(self["webpackChunkjdrave_app"]=self["webpackChunkjdrave_app"]||[]).push([[734],{3658:function(e,n,i){"use strict";var t=i(9781),a=i(3157),r=TypeError,d=Object.getOwnPropertyDescriptor,l=t&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=l?function(e,n){if(a(e)&&!d(e,"length").writable)throw r("Cannot set read only .length");return e.length=n}:function(e,n){return e.length=n}},7207:function(e){var n=TypeError,i=9007199254740991;e.exports=function(e){if(e>i)throw n("Maximum allowed index exceeded");return e}},3157:function(e,n,i){var t=i(4326);e.exports=Array.isArray||function(e){return"Array"==t(e)}},7658:function(e,n,i){"use strict";var t=i(2109),a=i(7908),r=i(6244),d=i(3658),l=i(7207),o=i(7293),u=o((function(){return 4294967297!==[].push.call({length:4294967296},1)})),s=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}();t({target:"Array",proto:!0,arity:1,forced:u||s},{push:function(e){var n=a(this),i=r(n),t=arguments.length;l(i+t);for(var o=0;o<t;o++)n[i]=arguments[o],i++;return d(n,i),i}})},7106:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateGame"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"description"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"title"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"insert_games_one"},arguments:[{kind:"Argument",name:{kind:"Name",value:"object"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"title"},value:{kind:"Variable",name:{kind:"Name",value:"title"}}},{kind:"ObjectField",name:{kind:"Name",value:"description"},value:{kind:"Variable",name:{kind:"Name",value:"description"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updated_at"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dungeon_master"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:265}};n.loc.source={body:"mutation CreateGame($description: String, $title: String!) {\n  insert_games_one(object: {title: $title, description: $description}) {\n    id\n    title\n    description\n    status\n    created_at\n    updated_at\n    dungeon_master {\n      id\n      username\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,n)})),e.definitions&&e.definitions.forEach((function(e){i(e,n)}))}var t={};function a(e,n){for(var i=0;i<e.definitions.length;i++){var t=e.definitions[i];if(t.name&&t.name.value==n)return t}}function r(e,n){var i={kind:e.kind,definitions:[a(e,n)]};e.hasOwnProperty("loc")&&(i.loc=e.loc);var r=t[n]||new Set,d=new Set,l=new Set;r.forEach((function(e){l.add(e)}));while(l.size>0){var o=l;l=new Set,o.forEach((function(e){if(!d.has(e)){d.add(e);var n=t[e]||new Set;n.forEach((function(e){l.add(e)}))}}))}return d.forEach((function(n){var t=a(e,n);t&&i.definitions.push(t)})),i}(function(){n.definitions.forEach((function(e){if(e.name){var n=new Set;i(e,n),t[e.name.value]=n}}))})(),e.exports=n,e.exports.CreateGame=r(n,"CreateGame")},3085:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return f}});i(7658);var t=i(6252),a=i(2262),r=i(9316),d=i(2201),l=i(7106),o=i.n(l),u=i(9298);const s=(0,t._)("header",{class:"flex justify-between align-middle mb-8"},[(0,t._)("h1",{class:"page-title"},[(0,t.Uk)("CrÃ©ation de "),(0,t._)("span",null,"campagne")])],-1);var c=(0,t.aZ)({__name:"GameCreation",setup(e){const n=(0,a.qj)({title:"",description:""}),{mutate:i,onDone:l}=(0,r.Db)(o(),(()=>({variables:{...n},update:(e,{data:{createGame:n}})=>{const i=e.readQuery({query:u.s});i.characters.push(n),e.writeQuery({query:u.s,data:i})}}))),c=(0,d.tv)();return l((({data:e})=>{c.replace({name:"game",params:{gameId:e.game.id}})})),(e,r)=>{const d=(0,t.up)("BaseInput"),l=(0,t.up)("BaseTextarea"),o=(0,t.up)("BaseButton");return(0,t.wg)(),(0,t.iD)(t.HY,null,[s,(0,t._)("div",null,[(0,t.Wm)(d,{class:"mb-6",label:"Titre",modelValue:n.title,"onUpdate:modelValue":r[0]||(r[0]=e=>n.title=e)},null,8,["modelValue"]),(0,t.Wm)(l,{class:"col-span-full mb-6",label:"Description",modelValue:n.description,"onUpdate:modelValue":r[1]||(r[1]=e=>n.description=e)},null,8,["modelValue"]),(0,t.Wm)(o,{class:"primary circled",onClick:(0,a.SU)(i)},{default:(0,t.w5)((()=>[(0,t.Uk)("Valider")])),_:1},8,["onClick"])])],64)}}});const m=c;var f=m}}]);
//# sourceMappingURL=app_games.4cf1ad5c.js.map