(self["webpackChunkjdrave_app"]=self["webpackChunkjdrave_app"]||[]).push([[839],{3131:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LastDrafts"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"last_drafts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"entity"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"kind"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"picture_url"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:109}};t.loc.source={body:"query LastDrafts {\n  last_drafts {\n    id\n    title\n    description\n    entity\n    kind\n    picture_url\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};function a(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function r(e,t){var n={kind:e.kind,definitions:[a(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,l=new Set,s=new Set;r.forEach((function(e){s.add(e)}));while(s.size>0){var d=s;s=new Set,d.forEach((function(e){if(!l.has(e)){l.add(e);var t=i[e]||new Set;t.forEach((function(e){s.add(e)}))}}))}return l.forEach((function(t){var i=a(e,t);i&&n.definitions.push(i)})),n}(function(){t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}}))})(),e.exports=t,e.exports.LastDrafts=r(t,"LastDrafts")},8119:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var i=n(6252),a=n(3577);const r={class:"bg-white rounded-lg p-5 shadow-sm"};function l(e,t){return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.WI)(e.$slots,"default")])}var s=n(3744);const d={},o=(0,s.Z)(d,[["render",l]]);var u=o;const c={class:"font-semibold"},f={key:0},v=["src"],m={class:"text-sm text-dark-light line-clamp-3"},p={class:"mt-auto flex flex-wrap gap-2"},k={key:0};var g=(0,i.aZ)({__name:"DraftCard",props:{draftEntity:null,isClickable:{type:Boolean}},setup(e){return(t,n)=>{const r=(0,i.up)("BaseBadge");return(0,i.wg)(),(0,i.iD)("div",{class:(0,a.C_)(["border border-gray-200 rounded-lg bg-white p-4 flex flex-col gap-y-4",{"hover:bg-gray-50 transition-colors cursor-pointer":e.isClickable}])},[(0,i._)("p",c,(0,a.zw)(e.draftEntity.title),1),e.draftEntity.picture_url?((0,i.wg)(),(0,i.iD)("div",f,[(0,i._)("img",{class:"w-full h-[150px] rounded-lg object-center object-cover",src:e.draftEntity.picture_url},null,8,v)])):(0,i.kq)("",!0),(0,i._)("p",m,(0,a.zw)(e.draftEntity.description),1),(0,i._)("ul",p,[(0,i._)("li",null,[(0,i.Wm)(r,{class:"secondary"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(t.$t(`entities.${e.draftEntity.entity}`)),1)])),_:1})]),e.draftEntity.kind?((0,i.wg)(),(0,i.iD)("li",k,[(0,i.Wm)(r,{class:"secondary"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(t.$t(`item_kind.${e.draftEntity.kind}`)),1)])),_:1})])):(0,i.kq)("",!0)])],2)}}});const w=g;var _=w,y=n(2262),h=n(7102),b=n(7511),D=n.n(b),x=n(3131),E=n.n(x);const S={class:"font-bold text-2xl"},N={class:"flex justify-between items-center mb-4"},z={class:"flex gap-x-2 items-center font-bold text-2xl"},F=(0,i._)("p",null,"Pas de partie en cours",-1),$={class:"font-bold text-2xl mb-4"},j={key:0,class:"grid grid-cols-3 gap-x-4"},C={key:1};var P=(0,i.aZ)({__name:"DashboardPage",setup(e){const{result:t}=(0,h.aM)(D()),{result:n}=(0,h.aM)(E()),r=(0,y.iH)(""),l=(0,y.iH)([]);return(0,i.YP)((()=>t.value),(()=>{t.value?.current_user[0]&&(r.value=t.value.current_user[0].username)})),(0,i.YP)((()=>n.value),(()=>{n.value&&(l.value=n.value.last_drafts)})),(e,t)=>((0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("header",null,[(0,i._)("h1",S,(0,a.zw)(e.$t("app.dashboard.title",{name:r.value})),1)]),(0,i.Wm)(u,{class:"mt-4"},{default:(0,i.w5)((()=>[(0,i._)("div",N,[(0,i._)("p",z,(0,a.zw)(e.$t("app.dashboard.online.title"))+" ",1)]),F])),_:1}),(0,i.Wm)(u,{class:"mt-4"},{default:(0,i.w5)((()=>[(0,i._)("p",$,(0,a.zw)(e.$t("app.dashboard.last_drafts.title")),1),l.value.length>0?((0,i.wg)(),(0,i.iD)("div",j,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.value,(e=>((0,i.wg)(),(0,i.j4)(_,{key:e.id,"draft-entity":e,"is-clickable":""},null,8,["draft-entity"])))),128))])):((0,i.wg)(),(0,i.iD)("p",C,"Pas de brouillons"))])),_:1})],64))}});const q=P;var L=q}}]);
//# sourceMappingURL=app_objects.52ee4fcb.js.map